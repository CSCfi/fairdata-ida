--- /var/ida/nextcloud-new/apps/files/js/mainfileinfodetailview.js	2021-10-27 15:54:06.724752017 +0000
+++ /var/ida/nextcloud-old/apps/files/js/mainfileinfodetailview.js	2021-10-27 10:25:30.398495093 +0000
@@ -1,4 +1,11 @@
 /*
+ * This file is part of the IDA research data storage service
+ *
+ * @author   CSC - IT Center for Science Ltd., Espoo Finland <servicedesk@csc.fi>
+ * @link     https://research.csc.fi/
+ */
+
+/*
  * Copyright (c) 2015
  *
  * This file is licensed under the Affero General Public License version 3
@@ -43,8 +50,8 @@
 		events: {
 			'click a.action-favorite': '_onClickFavorite',
 			'click a.action-default': '_onClickDefaultAction',
-			'click a.permalink': '_onClickPermalink',
-			'focus .permalink-field>input': '_onFocusPermalink'
+			//'click a.permalink': '_onClickPermalink',
+			//'focus .permalink-field>input': '_onFocusPermalink'
 		},
 
 		template: function(data) {
@@ -67,6 +74,7 @@
 		},
 
 		_setupClipboard: function() {
+            return;
 			var clipboard = new Clipboard('.permalink');
 			clipboard.on('success', function(e) {
 				var $el = $(e.trigger);
@@ -91,11 +99,12 @@
 		},
 
 		_onClickPermalink: function(e) {
-			e.preventDefault();
+			//e.preventDefault();
 			return;
 		},
 
 		_onFocusPermalink: function() {
+            return;
 			this.$('.permalink-field>input').select();
 		},
 
@@ -174,8 +183,8 @@
 					hasFavoriteAction: hasFavoriteAction,
 					starAltText: isFavorite ? t('files', 'Favorited') : t('files', 'Favorite'),
 					starClass: isFavorite ? 'icon-starred' : 'icon-star',
-					permalink: this._makePermalink(this.model.get('id')),
-					permalinkTitle: t('files', 'Copy direct link (only works for users who have access to this file/folder)')
+					//permalink: this._makePermalink(this.model.get('id')),
+					//permalinkTitle: t('files', 'Copy direct link (only works for users who have access to this file/folder)')
 				}));
 
 				// TODO: we really need OC.Previews
@@ -186,9 +195,6 @@
 					this._previewManager.loadPreview(this.model, $iconDiv, $container);
 				} else {
 					var iconUrl = this.model.get('icon') || OC.MimeType.getIconUrl('dir');
-					if (typeof this.model.get('mountType') !== 'undefined') {
-						iconUrl = OC.MimeType.getIconUrl('dir-' + this.model.get('mountType'))
-					}
 					$iconDiv.css('background-image', 'url("' + iconUrl + '")');
 				}
 				this.$el.find('[title]').tooltip({placement: 'bottom'});
