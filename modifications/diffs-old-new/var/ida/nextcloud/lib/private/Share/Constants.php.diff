2,8d1
< /*
<  * This file is part of the IDA research data storage service
<  *
<  * @author   CSC - IT Center for Science Ltd., Espoo Finland <servicedesk@csc.fi>
<  * @link     https://research.csc.fi/
<  */
< 
12d4
<  * @author Bjoern Schiessle <bjoern@schiessle.org>
15,16c7,10
<  * @author Lukas Reschke <lukas@statuscode.ch>
<  * @author Maxence Lange <maxence@nextcloud.com>
---
>  * @author Christoph Wurst <christoph@winzerhof-wurst.at>
>  * @author Daniel Calviño Sánchez <danxuliu@gmail.com>
>  * @author Joas Schilling <coding@schilljs.com>
>  * @author Julius Härtl <jus@bitgrid.net>
31c25
<  * along with this program.  If not, see <http://www.gnu.org/licenses/>
---
>  * along with this program. If not, see <http://www.gnu.org/licenses/>
36a31,32
> use OCP\Share\IShare;
> 
39,40c35,42
< 	const SHARE_TYPE_USER = 0;
< 	const SHARE_TYPE_GROUP = 1;
---
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_USER instead
> 	 */
> 	public const SHARE_TYPE_USER = 0;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_GROUP instead
> 	 */
> 	public const SHARE_TYPE_GROUP = 1;
42,49c44,72
< 	const SHARE_TYPE_LINK = 3;
< 	const SHARE_TYPE_EMAIL = 4;
< 	const SHARE_TYPE_CONTACT = 5; // ToDo Check if it is still in use otherwise remove it
< 	const SHARE_TYPE_REMOTE = 6;
< 	const SHARE_TYPE_CIRCLE = 7;
< 	const SHARE_TYPE_GUEST = 8;
< 	const SHARE_TYPE_REMOTE_GROUP = 9;
< 	const SHARE_TYPE_ROOM = 10;
---
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_LINK instead
> 	 */
> 	public const SHARE_TYPE_LINK = 3;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_EMAIL instead
> 	 */
> 	public const SHARE_TYPE_EMAIL = 4;
> 	public const SHARE_TYPE_CONTACT = 5; // ToDo Check if it is still in use otherwise remove it
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_REMOTE instead
> 	 */
> 	public const SHARE_TYPE_REMOTE = 6;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_CIRCLE instead
> 	 */
> 	public const SHARE_TYPE_CIRCLE = 7;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_GUEST instead
> 	 */
> 	public const SHARE_TYPE_GUEST = 8;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::REMOTE_GROUP instead
> 	 */
> 	public const SHARE_TYPE_REMOTE_GROUP = 9;
> 	/**
> 	 * @deprecated 17.0.0 - use IShare::TYPE_ROOM instead
> 	 */
> 	public const SHARE_TYPE_ROOM = 10;
50a74,82
> 	/**
> 	 * @deprecated 21.0.0 - use IShare::TYPE_DECK instead
> 	 */
> 	public const SHARE_TYPE_DECK = 12;
> 	// const SHARE_TYPE_DECK_USER = 13; // Internal type used by DeckShareProvider
> 
> 	public const FORMAT_NONE = -1;
> 	public const FORMAT_STATUSES = -2;
> 	public const FORMAT_SOURCES = -3;  // ToDo Check if it is still in use otherwise remove it
52,56c84
< 	const FORMAT_NONE = -1;
< 	const FORMAT_STATUSES = -2;
< 	const FORMAT_SOURCES = -3;  // ToDo Check if it is still in use otherwise remove it
< 
< 	const RESPONSE_FORMAT = 'json'; // default resonse format for ocs calls
---
> 	public const RESPONSE_FORMAT = 'json'; // default resonse format for ocs calls
58c86
< 	const TOKEN_LENGTH = 12; // old (oc7) length is 32, keep token length in db at least that for compatibility
---
> 	public const TOKEN_LENGTH = 15; // old (oc7) length is 32, keep token length in db at least that for compatibility
62,63c90,91
< 	protected static $backends = array();
< 	protected static $backendTypes = array();
---
> 	protected static $backends = [];
> 	protected static $backendTypes = [];
